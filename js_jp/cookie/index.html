<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ì•ˆë…•í•˜ì„¸ìš”ğŸ¿íŒì½˜ì…ë‹ˆë‹¤</title>
    <style>
      .popup {
        position: fixed;
        left: 100px;
        top: 100px;
        border: 1px solid #ebebeb;
        padding: 40px 60px;
      }
    </style>
  </head>
  <body>
    <h1>ì•ˆë…•í•˜ì„¸ìš” ğŸ¿ì…ë‹ˆë‹¤</h1>
    <div class="popup">
      <h2>ğŸ¿íŒì½˜ì´ì—ìš”</h2>
      <input type="checkbox" id="popup" />
      <label for="popup">ì˜¤ëŠ˜í•˜ë£¨ì•ˆë¨¹ê¸°</label>
      <button class="close">ì°½ë‹«ê¸°</button>
    </div>
    <!-- 
        ì¿ í‚¤ê°€ ì—†ìœ¼ë©´ ì‹ ê·œë°©ë¬¸ -> íŒì—…ì—´ê¸°
        ì¿ í‚¤ê°€ ìˆìœ¼ë©´ ì¬ë°©ë¬¸ -> íŒì—… ì•ˆì—´ê¸°
     -->
    <script>
      // ë³€ìˆ˜ìƒì„±
      const myPop = document.querySelector(".popup"),
        checkbox = document.querySelector("#popup"),
        closeBtn = document.querySelector(".close");

      // ë°©ë¬¸ì—¬ë¶€ ì²´í¬ë³€ìˆ˜
      let visited = false;

      // ì¿ í‚¤ìƒì„±
      function setCookie(name, value, day) {
        let date = new Date();
        date.setDate(date.getDate() + day);

        let setCookie = "";
        setCookie = `${name}=${value};`;
        setCookie += `Expires=${date.toUTCString()};`;
        document.cookie = setCookie;
      }
      // ì¿ í‚¤ì‚­ì œ
      function delCookie(name) {
        let date = new Date();
        date.setDate(date.getDate() - 1);

        let setCookie = "";
        setCookie = `${name}=popup01;`;
        setCookie += `Expires=${date.toUTCString()};`;
        document.cookie = setCookie;
      }

      // ì¿ í‚¤ì²´í¬
      function checkCookie(name) {
        let cookies = document.cookie.split(";");
        // ë¸Œë¼ìš°ì €ì— ì €ì¥ëœ ì¿ í‚¤ë“¤ì¤‘ name ë§¤ê°œë³€ìˆ˜ì™€ ì¼ì¹˜í•˜ëŠ” ê°’ì„ ê²€ìƒ‰í•˜ëŠ” for ë¬¸
        for (i in cookies) {
          if (cookies[i].indexOf(name) > -1) {
            // ì¬ë°©ë¬¸ì
            visited = true;
          }
        }
        if (visited) {
          myPop.style.display = "none";
        } else {
          myPop.style.display = "block";
        }
      }
      closeBtn.addEventListener("click", function () {
        if (checkbox.checked) {
          // ì˜¤ëŠ˜í•˜ë£¨ì•ˆë³´ê¸°, ì¿ í‚¤ìƒì„±
          // setCookie (ì¿ í‚¤ëª…,ì¿ í‚¤ê°’,íŒŒê¸°ì¼)
          setCookie("M9web", "popup01", 1);
          myPop.style.display = "none";
        } else {
          //íŒì—… ë˜ ë„ì›€
          delCookie("M9web");
          myPop.style.display = "none";
          delCookie("MangoWeb");
        }
      });

      // setCookie("M9web", "popup01", 1);
      checkCookie("M9web");
    </script>
  </body>
</html>
